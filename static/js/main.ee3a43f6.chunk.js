(this.webpackJsonp01_tabla_consumos=this.webpackJsonp01_tabla_consumos||[]).push([[0],{58:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),o=n(21),s=n.n(o),i=(n(58),n(14)),l=n(4),u=function(){return Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary bg-gradient justify-content-between",id:"hedernopdf",children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("h1",{children:Object(a.jsxs)(i.b,{to:"/",className:"text-light",children:["ELECTRO",Object(a.jsx)("span",{className:"logo",children:"NATURAL"})]})})}),Object(a.jsx)(i.b,{to:"/entradas/nueva",className:"btn btn-warning nuevo-post d-block de-md-inline-block",children:"Agregar un electrodom\xe9stico +"})]})},d=n(30),b=(n(71),n(16)),j=n.n(b),h=n(5),m=n(11),p=n.n(m),O=n(20),f="AGREGAR_ENTRADA",x="AGREGAR_ENTRADA_EXITO",v="AGREGAR_ENTRADA_ERROR",g="DESCARGA_INICIADA",N="DESCARGA_TERMINADA",y="DESCARGA_FALLIDA",E="OBTENER_ENTRADA_ELIMINAR",A="ENTRADA_ELIMINADA_OK",C="ENTRADA_ELIMINADA_FALLA",D="OBTENER_ENTRADA_EDITAR",R="ENTRADA_EDITADA_OK",T="ENTRADA_EDITADA_FALLA",_="MOSTRAR_ALERTA",w="OCULTAR_ALERTA",S=n(48),k=n.n(S).a.create({baseURL:"http://localhost:3001"});var I=function(){return{type:f,payload:!0}},L=function(e){return{type:x,payload:e}},F=function(e){return{type:v,payload:e}};var W=function(){return{type:g,payload:!0}},M=function(e){return{type:N,payload:e}},U=function(){return{type:y,payload:!0}};var X=function(e){return{type:E,payload:e}},G=function(){return{type:A}},P=function(){return{type:C,payload:!0}};var B=function(e){return{type:D,payload:e}};var z=function(){return{type:"INICIAR_EDICION_ENTRADA"}},H=function(e){return{type:R,payload:e}},Y=function(){return{type:T,payload:!0}},J=function(e){var t=e.entrada,n=t.nombre,r=t.potencia,c=t.uso,o=t.consumoE,s=t.id,i=Object(h.b)(),u=Object(l.f)(),d=function(e){j.a.fire({title:"Est\xe1 seguro?",text:"No es posible revertir esta acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&i(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(X(e)),t.prev=1,t.next=4,k.delete("/entradas/".concat(e));case 4:n(G()),j.a.fire("Eliminada!","La entrada ha sido eliminada.","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(P());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}))},b=function(e){i(function(e){return function(t){t(B(e))}}(e)),u.push("/entradas/editar/".concat(e.id))};return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsxs)("td",{children:[r," Watts"]}),Object(a.jsxs)("td",{children:[c," Horas"]}),Object(a.jsxs)("td",{children:[o," Watts hora"]}),Object(a.jsxs)("td",{className:"acciones",children:[Object(a.jsx)("button",{type:"button",onClick:function(){return b(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object(a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return d(s)},children:"Eliminar"})]})]})},K=function(e){var t=e.entradas,n=0;t.forEach((function(e,t){n+=e.consumoE}));var r=(7*n/1e3).toFixed(2),c=(30*n/1e3).toFixed(2),o=(12*c).toFixed(2);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Resumen de Datos"}),Object(a.jsxs)("table",{className:"table teble-striped",children:[Object(a.jsx)("thead",{className:"bg-primary table-dark",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Consumo Total Diario en Wh"}),Object(a.jsx)("th",{scope:"col",children:"Consumo Semanal promedio kWh"}),Object(a.jsx)("th",{scope:"col",children:"Consumo Mensual promedio kWh"}),Object(a.jsx)("th",{scope:"col",children:"Consumo Anual promedio kWh"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsxs)("td",{children:[n," Watts hora"]}),Object(a.jsxs)("td",{children:[r," kWatts hora"]}),Object(a.jsxs)("td",{children:[c," kWatts hora"]}),Object(a.jsxs)("td",{children:[o," kWatts hora"]})]})}),Object(a.jsx)("tfoot",{className:"bg-primary table-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Suma de consumos diarios"}),Object(a.jsx)("td",{children:"(Consumo Diario X 7)/1000"}),Object(a.jsx)("td",{children:"(Consumo Diario X 30)/1000"}),Object(a.jsx)("td",{children:"Consumo Mensual X 12"})]})})]})]})},V=function(){var e=Object(h.b)();Object(r.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W()),e.prev=1,e.next=4,k.get("/entradas");case 4:n=e.sent,t(M(n.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(U());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(h.c)((function(e){return e.entradas.entradas})),n=Object(h.c)((function(e){return e.entradas.error})),c=Object(h.c)((function(e){return e.entradas.loading}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{id:"content",children:[Object(a.jsx)("h2",{children:"C\xe1lculo de Consumos El\xe9ctricos Diarios"}),n?Object(a.jsx)("p",{className:"font-weight-bold alert alert-danger text-center mt-4",children:"Hubo un error"}):null,c?Object(a.jsx)("p",{className:"text-center",children:"Cargando..."}):null,Object(a.jsxs)("table",{className:"table teble-striped",id:"losconsumos",children:[Object(a.jsx)("thead",{className:"bg-primary table-dark",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Nombre Electrodom\xe9stico"}),Object(a.jsx)("th",{scope:"col",children:"Potencia en Watts"}),Object(a.jsx)("th",{scope:"col",children:"Tiempo de uso diario en horas"}),Object(a.jsx)("th",{scope:"col",children:"Consumo en Watts-hora"})]})}),Object(a.jsx)("tbody",{children:0===t.length?"No hay Entradas":t.map((function(e){return Object(a.jsx)(J,{entrada:e},e.id)}))})]}),Object(a.jsx)("div",{children:Object(a.jsx)(K,{entradas:t})}),Object(a.jsxs)("h6",{className:"enaturalDR",children:["ELECTRONATURAL \xa9",(new Date).getFullYear()," All rights reserved"]})]}),Object(a.jsx)("button",{type:"button",id:"notpdf",className:"btn btn-success",onClick:function(){var e=new d.jsPDF("p","pt","a4");e.setFont("helvetica","bold"),e.setFontSize(20),e.text("Mi Tabla de Consumos El\xe9ctricos",105*2.83,56.6,null,null,"center");var n=t.map((function(e){return[e.nombre,e.potencia,e.uso,e.consumoE]}));e.autoTable(["Nombre Electrodom\xe9stico","Potencia en Watts","Tiempo de uso diario en horas","Consumo en Watts-hora"],n,{startY:84.9,theme:"striped",styles:{fontSize:11},headStyles:{fillColor:[56,41,51],fontSize:11}});var a=0;t.forEach((function(e,t){a+=e.consumoE}));var r=(7*a/1e3).toFixed(2),c=(30*a/1e3).toFixed(2),o=(12*c).toFixed(2);e.autoTable({head:[["Consumo Diario","Consumo Semanal","Consumo Mensual","Consumo Anual"]],body:[[a+" Wh",r+" kWh",c+" kWh",o+" kWh"]],foot:[["Suma de consumos diarios","(Consumo Diario X 7)/1000","(Consumo Diario X 30)/1000","Consumo Mensual X 12"]],headStyles:{fillColor:[59,82,73],fontSize:11},footStyles:{fillColor:[164,180,148],fontSize:9,textColor:68},theme:"grid",styles:{fontSize:11}}),e.setFontSize(7),e.text("ELECTRONATURAL \xa9".concat((new Date).getFullYear()," All rights reserved"),401.86,e.autoTable.previous.finalY+22),e.save("Mi_consumo_".concat((new Date).toISOString(),".pdf"))},children:"Descargar esta Informaci\xf3n en PDF"})]})},q=n(17);var Q=function(e){return{type:_,payload:e}};var Z=function(){return{type:w}},$=function(e){var t=e.history,n=Object(r.useState)(""),c=Object(q.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(0),l=Object(q.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)(0),m=Object(q.a)(b,2),f=m[0],x=m[1],v=Object(h.b)(),g=Object(h.c)((function(e){return e.entradas.loading})),N=Object(h.c)((function(e){return e.entradas.error})),y=Object(h.c)((function(e){return e.alerta.alerta})),E=function(e){return v(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(I()),t.prev=1,t.next=4,k.post("/entradas",e);case 4:n(L(e)),j.a.fire("Correcto","El consumo se agreg\xf3 correctamente","success"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(F(!0)),j.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Ingrese los datos para un nuevo c\xe1lculo"}),y?Object(a.jsx)("p",{className:y.classes,children:y.msg}):null,Object(a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim()||u<=0||f<=0){v(function(e){return function(t){t(Q(e))}}({msg:"Todos los campos son obligatorios",classes:"alert alert-danger text-center text-uppercase p3"}))}else v((function(e){e(Z())})),E({nombre:o,potencia:u,uso:f,consumoE:u*f}),t.push("/")},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Nombre Electrodom\xe9stico"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Electrodom\xe9stico",name:"nombre",value:o,onChange:function(e){return s(e.target.value)}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Potencia en Watts"}),Object(a.jsx)("input",{type:"number",className:"form-control",placeholder:"Potencia en Watts",name:"potencia",value:u,onChange:function(e){return d(Number(e.target.value))}})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Uso diario en horas"}),Object(a.jsx)("input",{type:"number",className:"form-control",placeholder:"Uso diario en horas",name:"uso",value:f,onChange:function(e){return x(Number(e.target.value))}})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"})]}),g?Object(a.jsx)("p",{children:"Cargando..."}):null,N?Object(a.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un Error"}):null]})})})})},ee=n(24),te=n(3),ne=function(){var e=Object(l.f)(),t=Object(h.b)(),n=Object(r.useState)({nombre:"",potencia:0,uso:0,consumoE:0}),c=Object(q.a)(n,2),o=c[0],s=c[1],i=Object(h.c)((function(e){return e.entradas.entradaeditar})),u=o.nombre,d=o.potencia,b=o.uso;Object(r.useEffect)((function(){s(i)}),[i]);var j=function(e){s(Object(te.a)(Object(te.a)({},o),{},Object(ee.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Datos"}),Object(a.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=o.potencia,r=o.uso;o.consumoE=a*r,t(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z()),t.prev=1,t.next=4,k.put("/entradas/".concat(e.id),e);case 4:n(H(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),n(Y());case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(o)),e.push("/")},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Nombre Electrodom\xe9stico"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Electrodom\xe9stico",name:"nombre",value:u,onChange:j})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Potencia en Watts"}),Object(a.jsx)("input",{type:"number",className:"form-control",placeholder:"Potencia en Watts",name:"potencia",value:d,onChange:j})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Uso diario en horas"}),Object(a.jsx)("input",{type:"number",className:"form-control",placeholder:"Uso diario en horas",name:"uso",value:b,onChange:j})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar Cambios"})]})]})})})})},ae=n(13),re=n(49),ce=n(50),oe={entradas:[],error:null,loading:!1,entradaeliminar:null,entradaeditar:null},se={alerta:null},ie=Object(ae.c)({entradas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case g:return Object(te.a)(Object(te.a)({},e),{},{loading:t.payload});case x:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,entradas:[].concat(Object(ce.a)(e.entradas),[t.payload])});case v:case y:case C:case T:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:t.payload});case N:return Object(te.a)(Object(te.a)({},e),{},{loading:!1,error:null,entradas:t.payload});case E:return Object(te.a)(Object(te.a)({},e),{},{entradaeliminar:t.payload});case A:return Object(te.a)(Object(te.a)({},e),{},{entradas:e.entradas.filter((function(t){return t.id!==e.entradaeliminar})),entradaeliminar:null});case D:return Object(te.a)(Object(te.a)({},e),{},{entradaeditar:t.payload});case R:return Object(te.a)(Object(te.a)({},e),{},{entradaeditar:null,entradas:e.entradas.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(te.a)(Object(te.a)({},e),{},{alerta:t.payload});case w:return Object(te.a)(Object(te.a)({},e),{},{alerta:null});default:return e}}}),le=Object(ae.e)(ie,Object(ae.d)(Object(ae.a)(re.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var ue=function(){return Object(a.jsx)(i.a,{children:Object(a.jsxs)(h.a,{store:le,children:[Object(a.jsx)(u,{}),Object(a.jsx)("div",{className:"container mt-5",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:V}),Object(a.jsx)(l.a,{exact:!0,path:"/entradas/nueva",component:$}),Object(a.jsx)(l.a,{exact:!0,path:"/entradas/editar/:id",component:ne})]})})]})})},de=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,464)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ue,{})}),document.getElementById("root")),de()}},[[89,1,3]]]);
//# sourceMappingURL=main.ee3a43f6.chunk.js.map